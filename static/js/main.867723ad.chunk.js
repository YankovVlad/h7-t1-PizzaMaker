(this["webpackJsonph7-t1-pizza-maker"]=this["webpackJsonph7-t1-pizza-maker"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),s=n(17),c=n.n(s),r=(n(23),n(2)),d=(n(24),n(4)),o=n(5),l=n(7),u=n(6),j=(n(25),n(0)),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={selected:!1},e.onClickSelect=function(){var t=!e.state.selected,n=e.props.id;e.props.update(t,n),e.setState({selected:!e.state.selected})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("button",{disabled:!(!this.props.disable||this.state.selected),onClick:this.onClickSelect,className:this.props.disable&&!this.state.selected?"editor__item editor__item-disabled":this.state.selected?"editor__item editor__item-active":"editor__item editor__item-default",children:[Object(j.jsx)("span",{className:"editor__text",children:this.props.ingredient.label}),Object(j.jsx)("div",{className:this.state.selected?"editor__indicator editor__indicator--true":"editor__indicator editor__indicator--false"})]})}}]),n}(i.a.Component),p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{className:this.props.ingredient.isActive?this.props.ingredient.class:""})}}]),n}(i.a.Component),h=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={choiseLimit:5,counter:0,ingredientState:{cheese:!1,pepperoni:!1,jalapeno:!1,pineapple:!1,onion:!1,cucumber:!1,bacon:!1}},e.setCounter=function(t){e.setState({counter:t?e.state.counter+1:e.state.counter-1})},e.checkAndChangeById=function(e,t,n,a){e.forEach((function(e){e.id===t&&(e[n]=a)}))},e.setValue=function(e,t,n){var a=Object.assign({},e);return a[t]=n,a},e.veg=[{id:1,label:"Cheese",class:"ingredient cheese",isActive:!1,update:function(t,n){e.setState({ingredientState:e.setValue(e.state.ingredientState,"cheese",t)}),e.setCounter(t),e.checkAndChangeById(e.veg,n,"isActive",t)}},{id:2,label:"Pepperoni",class:"ingredient pepperoni",isActive:!1,update:function(t,n){e.setState({ingredientState:e.setValue(e.state.ingredientState,"pepperoni",t)}),e.setCounter(t),e.checkAndChangeById(e.veg,n,"isActive",t)}},{id:3,label:"Jalapeno",class:"ingredient jalapeno",isActive:!1,update:function(t,n){e.setState({ingredientState:e.setValue(e.state.ingredientState,"jalapeno",t)}),e.setCounter(t),e.checkAndChangeById(e.veg,n,"isActive",t)}},{id:4,label:"Pineapple",class:"ingredient pineapple",isActive:!1,update:function(t,n){e.setState({ingredientState:e.setValue(e.state.ingredientState,"pineapple",t)}),e.setCounter(t),e.checkAndChangeById(e.veg,n,"isActive",t)}},{id:5,label:"Onion",class:"ingredient onion",isActive:!1,update:function(t,n){e.setState({ingredientState:e.setValue(e.state.ingredientState,"onion",t)}),e.setCounter(t),e.checkAndChangeById(e.veg,n,"isActive",t)}},{id:6,label:"Cucumber",class:"ingredient cucumber",isActive:!1,update:function(t,n){e.setState({ingredientState:e.setValue(e.state.ingredientState,"cucumber",t)}),e.setCounter(t),e.checkAndChangeById(e.veg,n,"isActive",t)}},{id:7,label:"Bacon",class:"ingredient bacon",isActive:!1,update:function(t,n){e.setState({ingredientState:e.setValue(e.state.ingredientState,"bacon",t)}),e.setCounter(t),e.checkAndChangeById(e.veg,n,"isActive",t)}}],e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"pizza__wrap",children:Object(j.jsxs)("div",{className:"pizza__body",children:[Object(j.jsx)("h2",{className:"pizza__title",children:"Create your perfect Pizza"}),Object(j.jsx)("div",{className:"pizza__img",children:this.veg.map((function(e){return Object(j.jsx)(p,{ingredient:e},e.id)}))}),Object(j.jsxs)("ul",{className:"pizza__editor",children:[Object(j.jsx)("p",{className:this.state.counter>=this.state.choiseLimit?"warning-text":"warning-text-hidden",children:"You can select up to 5 items"}),this.veg.map((function(t){return Object(j.jsx)(b,{id:t.id,ingredient:t,update:t.update,disable:e.state.counter>=5},t.id)}))]})]})})}}]),n}(i.a.Component),m=(n(27),function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),i=n[0],s=n[1];Object(a.useEffect)((function(){s(e.isLogin)}),[e.isLogin]);return Object(j.jsx)("button",{className:i?"btn btn--active":"btn",onClick:i?function(){return t=!0,void e.updateIsLogin(t);var t}:function(){e.update(!0)},children:e.label})}),v=function(e){var t=Object(a.useState)({}),n=Object(r.a)(t,2),i=n[0],s=n[1],c=Object(a.useState)(!1),d=Object(r.a)(c,2),o=d[0],l=d[1];return Object(a.useEffect)((function(){var t=e.currentUser;s(t),l(e.isLogin)}),[e.currentUser,e.isLogin]),Object(j.jsx)("nav",{className:"nav",children:Object(j.jsxs)("div",{className:"nav__wrap",children:[Object(j.jsxs)("div",{className:"nav__title",children:[Object(j.jsx)("div",{className:"nav__icon"}),Object(j.jsx)("h1",{className:"nav__title-text",children:"P-Pizza"})]}),Object(j.jsxs)("div",{className:"nav__userbar",children:[Object(j.jsxs)("div",{className:"nav__user-data",children:[Object(j.jsx)("p",{className:"nav__username",children:o?i.name:""}),Object(j.jsx)("p",{className:"nav__username",children:o?e.currentUser.email:""})]}),Object(j.jsx)("div",{className:o&&i.picture?"nav__avatar":"nav__avatar avatar-guest",children:Object(j.jsx)("img",{className:o&&i.picture?"nav__img":"hidden",src:o?i.picture:"",alt:"avatar"})}),Object(j.jsx)(m,{update:function(t){e.update(t)},btnState:e.btnState,isLogin:o,label:o?"Log out":"Sign in",updateIsLogin:function(t){e.updateIsLogin(t)}})]})]})})},O=(n(28),n(18)),g=n.n(O),_=function(){return Object(j.jsxs)("div",{className:"loader",children:[Object(j.jsx)("div",{className:"loader-item item-first"}),Object(j.jsx)("div",{className:"loader-item item-second"})]})},f=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),i=n[0],s=n[1],c=Object(a.useState)(""),d=Object(r.a)(c,2),o=d[0],l=d[1],u=Object(a.useState)(e.isActive),b=Object(r.a)(u,2),p=b[0],h=b[1],m=Object(a.useState)(!0),v=Object(r.a)(m,2),O=v[0],f=v[1],x=Object(a.useState)(!1),N=Object(r.a)(x,2),S=N[0],C=N[1],y=Object(a.useState)("Please, enter your number and password"),A=Object(r.a)(y,2),k=A[0],w=A[1],z={phone:"+175294567845",password:"123"};return Object(j.jsxs)("div",{className:"modal__login",children:[Object(j.jsx)("div",{className:"modal__guest"}),Object(j.jsxs)("div",{className:"modal__body",children:[Object(j.jsx)("input",{className:O?"modal__input":"modal__input error",type:"tel",onChange:function(e){s(e.target.value)},placeholder:"Telephone number",value:i}),Object(j.jsx)("input",{className:O?"modal__input":"modal__input error",type:"password",onChange:function(e){l(e.target.value)},placeholder:"Password",value:o}),Object(j.jsx)("p",{className:O?"warning-text-hidden":"warning-text",children:k})]}),S?Object(j.jsx)(_,{}):Object(j.jsx)("div",{className:"loader-placeholder"}),Object(j.jsx)("button",{className:"btn modal__btn",onClick:function(){var t={phone:i,password:o};C(!0),JSON.stringify(t)===JSON.stringify(z)&&g.a.get("https://jsonplaceholder.typicode.com/users/1",t).then((function(t){var n=t.data,a=!p;h(a),function(t,n){e.update(t,n)}(a,n),C(!1)}),(function(e){w(e.response.data),f(!1),setTimeout((function(){return f(!0)}),2e3),C(!1)})),JSON.stringify(t)!==JSON.stringify(z)&&(setTimeout((function(){C(!1),f(!1)}),1e3),setTimeout((function(){return f(!0)}),3e3))},children:"Log in"}),Object(j.jsx)("button",{className:"btn modal__btn",onClick:function(){!function(t){e.updateClose(t)}(!p)},children:"Cancel"}),Object(j.jsx)("p",{className:"modal__help",children:"Test autorization:"}),Object(j.jsxs)("p",{className:"modal__help",children:["Number: ",Object(j.jsx)("span",{onClick:function(e){s(e.target.innerText)},className:"modal__help copy-btn",children:z.phone}),"  "]}),Object(j.jsxs)("p",{className:"modal__help ",children:["Password: ",Object(j.jsx)("span",{onClick:function(e){l(e.target.innerText)},className:"modal__help copy-btn",children:z.password})]})]})},x=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)({}),c=Object(r.a)(s,2),d=c[0],o=c[1],l=Object(a.useState)(!1),u=Object(r.a)(l,2),b=u[0],p=u[1];return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)("div",{className:n?"modal-wrap visible":"modal-wrap hidden",children:n?Object(j.jsx)(f,{update:function(e,t){i(e),o(t),p(function(e){for(var t in e)return!0;return!1}(t))},updateClose:function(e){i(e)},isActive:n}):null}),Object(j.jsx)(v,{update:function(e){i(e)},updateIsLogin:function(e){e&&(p(!1),o({}))},currentUser:d,btnState:n,isLogin:b}),Object(j.jsx)("div",{className:n?"hidden":"visible",children:Object(j.jsx)(h,{})})]})};c.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.867723ad.chunk.js.map